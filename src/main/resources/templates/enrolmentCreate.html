<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorator="layout/secure"
      lang="en">
<body>
<div layout:fragment="page-content">
    <div class="row">
        <div class="col-lg-12">
            <h1>
                Student Enrollment
            </h1>
        </div>
    </div>
    <div class="row separator">
        <div class="col-lg-7 est esb">
            <form class="enrolmentCreate" role="form" method="post" action="/enrolments">
                <div>
                    <div>
                        <label>Student Name</label>
                        <input th:required="required" type="hidden" class="form-control" data-toggle="modal"
                               data-target="#studentSearchModal" id="studentId" name="studentId" placeholder=""/>
                        <input th:required="required" type="text" class="form-control" data-toggle="modal"
                               data-target="#studentSearchModal" id="studentName1" name="studentName" placeholder=""/>
                    </div>

                    <!--Student Search Modal-->
                    <div id="studentSearchModal" class="modal fade">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title">Student Search</h4>
                            </div>
                            <div class="modal-body">
                                <label>Name : </label>
                                <input id="studentName"/>
                                <input type="button" id="btnStudentSearch" value="Search"/>
                                <!--Table-->
                                <div>
                                    <table id="tbShow" class="table table-striped">

                                    </table>
                                </div>
                                <input type="button" id="btnStudentSelect" value="Select"/>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label>Class Name</label>
                        <input type="hidden" name="classId" id="classId" th:value="${classId}"/>
                        <input th:required="required" disabled="disabled" type="text" class="form-control"
                               name="className" id="className" th:value="${className}" placeholder=""/>

                    </div>
                    <div>
                        <label>Role Number</label>
                        <input th:required="required" type="text" class="form-control" id="roleNumber" name="roleNumber"
                               placeholder=""/>
                    </div>
                    <div>
                        <label>Year</label>
                        <input th:required="required" class="form-control" id="year" name="year"
                               th:value="${session.currentYear}" placeholder=""/>
                    </div>

                </div>
                <div>

                    <input type="submit" value="Enroll" class="btn btn-primary est"/>
                    <a class="btn btn-primary est"
                       th:href="|/class/detail/${classId}/year/${session.currentYear}|">Back</a>

                </div>

            </form>

        </div>
        <div class="col-lg-5">
            <table class="table table-striped separator">
                <tr>
                    <th style="width: 30%">Student Name</th>
                    <th style="text-align: center">Role Number</th>
                    <th>Option</th>
                </tr>
                <tr th:each="each : ${enrolStudentList}">
                    <td th:text="${each.studentName}"></td>
                    <td th:text="${each.roleNumber}" style="text-align: center"></td>
                    <td>
                        <!--<a class="update_role_number"
                           href="#"
                           th:attr="data-enrolment_id=${each.enrolmentId},
                                        data-class_id=${classId},
                                        data-student_id=${each.studentId},
                                        data-student_roll_number=${each.roleNumber}">Update </a> ||-->
                        <a th:href="|/enrolment/delete/${each.enrolmentId}/class/${classId}/student/${each.studentId}|">Remove </a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>
</body>
</html>
