<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml"
      layout:decorator="layout/secure"
      lang="en">
<body>
<div layout:fragment="page-content">
    <div class="row">
        <div class="col-lg-6">
            <a class="btn btn-primary" th:href="|/subject/student/${student.id}/list|">Subject List</a>
            <a class="btn btn-primary" th:href="|/student/${student.id}/update|">Update Personal Information</a>
            <a class="btn btn-primary" th:href="|/student/${student.id}/addContactInformation|"> Add Contact Info</a>
            <h3 class="esb">Personal Information</h3>
            <table class="table table-striped">
                <tr>
                    <td>First Name</td>
                    <td th:text="${student.person.firstName}"></td>
                </tr>
                <tr>
                    <td>Last Name</td>
                    <td th:text="${student.person.lastName}"></td>
                </tr>
                <tr>
                    <td>Date of Birth</td>
                    <td th:text="${#dates.format(student.person.dateOfBirth, 'dd-MMM-yyyy')}"></td>

                </tr>
                <tr>
                    <td>Sex</td>
                    <td th:text="${student.person.sex}"></td>
                </tr>
                <tr>
                    <td>Religion</td>
                    <td th:text="${student.person.religion}"></td>
                </tr>
            </table>
        </div>
        <div class="col-lg-6">
            <h4>Payment Paid</h4>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>
                        Type
                    </th>
                    <th>
                        Payment Date
                    </th>
                </tr>
                </thead>
                <tr th:each="each : ${studentFeeList}">
                    <td th:text="${each.feeInfo.type}"></td>
                    <td th:text="${each.paymentDate}"></td>
                </tr>
            </table>

        </div>
    </div>
    <div class="row est">
        <div class="col-lg-6">
            <h3 class="separator">Contact Information</h3>

            <div th:each="contactInfo : ${student.person.contactInformationList}" class="separator">
                <table class="table table-striped">
                    <tr>
                        <td style="width: 30%">Care of</td>
                        <td th:text="${contactInfo.name}"></td>
                    </tr>
                    <tr>
                        <td>Address</td>
                        <td th:text="${contactInfo.address}"></td>
                    </tr>
                    <tr>
                        <td>phone_1</td>
                        <td th:text="${contactInfo.phone_1}"></td>
                    </tr>
                    <tr>
                        <td>phone_2</td>
                        <td th:text="${contactInfo.phone_2}"></td>
                    </tr>
                    <tr>
                        <td>phone_3</td>
                        <td th:text="${contactInfo.phone_3}"></td>
                    </tr>
                    <tr>
                        <td>contactType</td>
                        <td th:text="${contactInfo.contactType}"></td>
                    </tr>
                </table>
                <a th:href="|/contactInformation/${contactInfo.id}/update/${student.id}/student|">Update</a>
            </div>
        </div>
        <div class="col-lg-6">

            <br/>

            <br/>

        </div>
    </div>
    <div class="row est">
        <div class="col-lg-12">
            <h2>Result Information</h2>
            <p>
                Total marks of all subject : <span th:text="${result.grandTotal.total}"></span>
            </p>
            <p>
                Total marks obtained : <span th:text="${result.grandTotal.obtained}"></span>
            </p>

            <h3 class="est">Result by Subject</h3>
            <p th:each="subject : ${result.subjects}" style="border: 1px solid red">
            <h4 th:text="${subject.subjectName}"></h4>
            <p>
                Total Marks : <span th:text="${subject.total}"></span>
            </p>
            <p>
                Obtained Marks : <span th:text="${subject.obtained}"></span>
            </p>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>Exam Name</th>
                    <th>totalNumber</th>
                    <th>obtainedNumber</th>
                    <th>percentile</th>
                    <th>ID</th>
                </tr>
                </thead>
                <tr th:each="exam : ${subject.exams}">
                    <td th:text="${exam.key}"></td>
                    <td th:text="${exam.value.totalNumber}"></td>
                    <td th:text="${exam.value.obtainedNumber}"></td>
                    <td th:text="${exam.value.percentile}"></td>
                    <td th:text="${(exam.value.obtainedNumber * exam.value.percentile)/100}"></td>
                </tr>
            </table>

            </p>
        </div>
    </div>
</div>
</body>
</html>
